---
import RainbowBorder from '../ui/RainbowBorder.astro';
import Logo from './Logo.astro';

const items = [
    {
        name: 'Services',
        href: '/services',
        sort: 1,
        visible: false, 
    },
    {
        name: 'Case Studies',
        href: '/case-studies',
        sort: 2,
        visible: false,
    },
    {
        name: 'Newsroom',
        href: '/newsroom',
        sort: 3,
        visible: false,
    },
    {
        name: 'About',
        href: '/about',
        sort: 4,
        visible: false,
    },
]
---

<nav class="container mx-auto flex items-center justify-between py-3 px-4">
    <!-- Logo -->
    <a href="/">
        <Logo />
    </a>

    <!-- Desktop Menu (hidden on mobile) -->
    <div class="hidden md:flex space-x-8">
        {items.sort((a, b) => a.sort - b.sort).filter(item => item.visible).map((item) => (
            <a href={item.href} class="text-gray-600 dark:text-gray-300 hover:text-cyan-500 transition-colors">
                {item.name}
            </a>
        ))}

        <RainbowBorder>
            <a href="/contact" class="p-4 rounded-lg hidden">
                Contact
            </a>
        </RainbowBorder>
    </div>

    <!-- Mobile Toggle (hidden on desktop) -->
    <button class="md:hidden p-2" id="menu-toggle">
      <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/>
      </svg>
    </button>
  </nav>

  <!-- Mobile Menu (hidden by default) -->
  <div class="md:hidden hidden px-4 py-2" id="mobile-menu">
    {items.sort((a, b) => a.sort - b.sort).filter(item => item.visible).map((item) => (
        <a href={item.href} class="block py-2 text-gray-600 dark:text-gray-300">
            {item.name}
        </a>
    ))}

    <RainbowBorder>
        <a href="/contact" class="p-4 rounded-lg hidden">
            Contact
        </a>
    </RainbowBorder>
  </div>

  <script>
    // Basic mobile menu toggle
    document.getElementById('menu-toggle').addEventListener('click', () => {
      const menu = document.getElementById('mobile-menu');
      menu.classList.toggle('hidden');
    });
  </script>